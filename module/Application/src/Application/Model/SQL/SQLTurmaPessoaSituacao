-- Table: public.turma_pessoa_situacao

-- DROP TABLE public.turma_pessoa_situacao;

CREATE TABLE public.turma_pessoa_situacao
(
    id integer NOT NULL DEFAULT nextval('aluno_situacao_id_seq'::regclass),
    situacao_id integer NOT NULL,
    turma_pessoa_id integer NOT NULL,
    data_criacao date NOT NULL DEFAULT ('now'::text)::date,
    hora_criacao time without time zone NOT NULL DEFAULT ('now'::text)::time with time zone,
    data_inativacao date,
    hora_inativacao time without time zone,
    CONSTRAINT pk_aluno_situacao PRIMARY KEY (id),
    CONSTRAINT fk_turma_pessoa_situacao_situacao_id FOREIGN KEY (situacao_id)
        REFERENCES public.situacao (id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION,
    CONSTRAINT fk_turma_pessoa_situacao_turma_pessoa_id FOREIGN KEY (turma_pessoa_id)
        REFERENCES public.turma_pessoa (id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION
)
WITH (
    OIDS = FALSE
)
TABLESPACE pg_default;

ALTER TABLE public.turma_pessoa_situacao
    OWNER to postgres;
COMMENT ON TABLE public.turma_pessoa_situacao
    IS 'Associação entre a matricula e sua situacao';

COMMENT ON COLUMN public.turma_pessoa_situacao.id
    IS 'Identificação da associação do aluno com a situação';

COMMENT ON COLUMN public.turma_pessoa_situacao.situacao_id
    IS 'Identificação da situação';

COMMENT ON COLUMN public.turma_pessoa_situacao.turma_pessoa_id
    IS 'Identificação (matricula) da turma pessoa';

COMMENT ON COLUMN public.turma_pessoa_situacao.data_criacao
    IS 'Data de criação da associação da situação com o aluno';

COMMENT ON COLUMN public.turma_pessoa_situacao.hora_criacao
    IS 'Hora de criação da associação da situação com o aluno';

COMMENT ON COLUMN public.turma_pessoa_situacao.data_inativacao
    IS 'Data de inativação da associação da situação com aluno';

COMMENT ON COLUMN public.turma_pessoa_situacao.hora_inativacao
    IS 'Hora da inativação da associação situação com aluno';

COMMENT ON CONSTRAINT fk_turma_pessoa_situacao_situacao_id ON public.turma_pessoa_situacao
    IS 'Chave estrangeira da situacao com turma pessoa situacao';
COMMENT ON CONSTRAINT fk_turma_pessoa_situacao_turma_pessoa_id ON public.turma_pessoa_situacao
    IS 'Chave estrangeira da turma pessoa com turma pessoa situacao';